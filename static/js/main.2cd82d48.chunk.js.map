{"version":3,"sources":["components/Nav.tsx","components/Layout.tsx","hooks/useUpdate.ts","hooks/useRecords.ts","views/bill/CategorySection.tsx","lib/createId.tsx","hooks/useTags.ts","views/colorInit.tsx","views/Statistics.tsx","views/bill/TagsSection.tsx","views/bill/NotesSection.tsx","views/bill/NumWrapper.ts","views/bill/NumSection.tsx","views/bill/GenerateNum.ts","views/Bill.tsx","components/Center.ts","components/Button.tsx","views/Tags.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["NavWrapper","styled","ul","Icon","url","name","link","Nav","map","item","to","activeClassName","className","aria-hidden","xlinkHref","Main","main","Layout","props","children","useUpdate","fn","deps","count","useRef","useEffect","current","useRecords","useState","tagIds","note","category","amount","createDate","records","setRecords","localStorage","setItem","JSON","stringify","recordsLocal","parse","getItem","length","addRecord","newRecord","CategoryUl","CategorySection","selectedCategory","onChange","onClick","id","parseInt","createId","useTags","tags","setTags","tagsLocal","findTag","filter","tag","updateTag","newName","deleteTag","addTag","newTagName","window","prompt","colorInit","MyLayout","CategoryWrapper","div","List","RecordsList","Statistics","setCategory","recordsDisplay","record","hash","forEach","key","day","format","push","array","Object","entries","sort","a","b","date","color","TagsWrapper","section","TagsSection","index","indexOf","t","onToggleTags","newTag","NotesWrapper","NotesSection","inputRef","value","ref","type","placeholder","NumWrapper","NumSection","output","onOk","num","text","slice","GenerateNum","Wrapper","defaultState","Bill","state","setState","obj","stateNew","amountNum","parseFloat","alert","Date","toISOString","Center","Button","button","TagList","Tags","NoMatch","TitleDiv","EditDiv","Tag","useParams","tagRef","history","useHistory","App","exact","path","from","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2cd82d48.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst NavWrapper=styled.ul`\r\n    display: flex;\r\n    justify-content: space-around;\r\n    text-align: center;\r\n    box-shadow: 0 0 3px rgba(0 ,0 ,0 ,0.25);\r\n    >li {\r\n    width: 33.3333%;\r\n    > a{\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding:6px;\r\n    font-size: 12px;\r\n    background-color:rgb(244, 244, 244);\r\n    &.selected{\r\n    background-color:white;\r\n    }\r\n    >svg{\r\n    margin-bottom: 5px;\r\n    font-size: 26px;\r\n    }\r\n    }\r\n }`;\r\n\r\nconst Icon=[\r\n    {url:'/tags',name:\"标签\",link:'#icon-shengdanshu'},\r\n    {url:'/bill',name:\"记一笔\",link:'#icon-SnowMan'},\r\n    {url:'/statistics',name:\"统计\",link:'#icon-shengdanlaoren'}\r\n];\r\n\r\nconst Nav=()=> {\r\nreturn (\r\n    <NavWrapper>\r\n            {\r\n                Icon.map((item)=>{\r\n                    return (\r\n                        <li key={item.name}>\r\n                            <NavLink to={item.url} activeClassName=\"selected\"><svg className=\"icon\" aria-hidden=\"true\">\r\n                                <use xlinkHref={item.link}></use>\r\n                            </svg>{item.name}</NavLink>\r\n                        </li>\r\n                    )\r\n                })\r\n            }\r\n    </NavWrapper>\r\n)};\r\nexport default Nav;","import React, {useEffect, useRef} from \"react\";\r\nimport {ReactElement} from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst Main = styled.main`\r\ndisplay: flex;\r\nflex-direction: column;\r\njustify-content: space-between;\r\nflex: 1;\r\n`;\r\ntype Props={\r\n    children: ReactElement | ReactElement []\r\n    className?:string\r\n}\r\n\r\nconst Layout:React.FC<Props> =(props)=> {\r\n    return (\r\n            <Main className={props.className}>\r\n                {props.children}\r\n            </Main>\r\n    )\r\n};\r\n\r\n\r\nexport default  Layout;","import {useEffect, useRef} from \"react\";\n\nconst useUpdate=(fn:()=>void,deps:any[])=>{\n    const count=useRef(0);\n    useEffect(()=>{\n        count.current+=1;\n    },[deps]);\n    useEffect(()=>{\n        if(count.current>1){\n            fn();\n        }\n        //看下会不会警告，之前是说必须要把fn作为依赖监听起来\n    },[count,fn])\n};\nexport {useUpdate}\n","import {useEffect, useState} from \"react\";\r\nimport {useUpdate} from \"./useUpdate\";\r\n\r\n\r\n\r\ntype RecordItem={\r\n    tagIds:number[],\r\n    note:string,\r\n    category:\"收入\"|\"支出\",\r\n    amount:number\r\n    createDate:string //ISO 8601\r\n}\r\n\r\nexport const useRecords=()=>{\r\n    const [records,setRecords]=useState<RecordItem[]>([{\r\n        tagIds:[2],\r\n        note:\"\",\r\n        category:\"支出\",\r\n        amount:1000,\r\n        createDate: \"2020-12-21T01:21:25.714Z\"\r\n    },{\r\n        tagIds:[1],\r\n        note:\"\",\r\n        category:\"支出\",\r\n        amount:50,\r\n        createDate: \"2020-12-22T01:21:36.260Z\"\r\n    },{\r\n        tagIds:[3],\r\n        note:\"\",\r\n        category:\"支出\",\r\n        amount:200,\r\n        createDate: \"2020-12-12T01:21:36.260Z\"\r\n    },{\r\n        tagIds:[4],\r\n        note:\"早上消费\",\r\n        category:\"支出\",\r\n        amount:20,\r\n        createDate: \"2020-12-22T09:21:36.260Z\"\r\n    },{\r\n        tagIds:[1],\r\n        note:\"\",\r\n        category:\"收入\",\r\n        amount:2000,\r\n        createDate: \"2020-12-22T07:21:36.260Z\"\r\n    },{\r\n        tagIds:[3],\r\n        note:\"中彩票了\",\r\n        category:\"收入\",\r\n        amount:600,\r\n        createDate: \"2020-12-18T01:21:36.260Z\"\r\n    },\r\n    ]);\r\n    const addRecord=(newRecord:RecordItem)=>{\r\n        setRecords([...records,newRecord])\r\n    };\r\n    useUpdate(()=>{\r\n        localStorage.setItem('records',JSON.stringify(records))\r\n    },[records]);\r\n    useEffect(()=>{\r\n        let recordsLocal=JSON.parse(localStorage.getItem('records')||'[]');\r\n        if(recordsLocal.length!==0){\r\n            setRecords(recordsLocal);\r\n        }\r\n    },[]);\r\n    return {records,setRecords,addRecord}\r\n};\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\n\r\nconst CategoryUl=styled.ul`\r\ndisplay: flex;\r\nfont-size: 24px;\r\npadding: 12px 0;\r\nbackground-color:rgba(148, 57, 57,0.6);\r\ncolor: white;\r\n>li{\r\nwidth: 50%;\r\ntext-align: center;\r\nline-height: 24px;\r\n&.selected{\r\nposition: relative;\r\n&::after{\r\nposition: absolute;\r\ntop: 36px;\r\nleft: 0;\r\ncontent: \"\";\r\nborder-bottom: 2px solid rgb(148, 57, 57);\r\nwidth: 100%;\r\ndisplay: inline-block;\r\n}}}\r\n`;\r\n\r\ntype Props={\r\n    category:\"收入\"|\"支出\",\r\n    onChange:(category:\"收入\"|\"支出\")=>void\r\n}\r\nconst CategorySection:React.FC<Props> =(props)=>{\r\n    const selectedCategory=props.category;\r\n    const onChange=props.onChange;\r\n    const categories:(\"收入\"|\"支出\")[]=[\"收入\",\"支出\"];\r\n    return(\r\n            <CategoryUl >\r\n                {categories.map(category=>{\r\n                    return  <li key={category} className={category===selectedCategory?'selected':''}\r\n                                onClick={()=>onChange(category)} >{category}</li>\r\n                })}\r\n            </CategoryUl>\r\n    )\r\n}\r\n\r\nexport {CategorySection};","let id:number=parseInt(localStorage.getItem('idMax') ||'0');\r\nconst createId=():number=>{\r\n    id+=1;\r\n    localStorage.setItem('idMax',JSON.stringify(id));\r\n    return id;\r\n};\r\n\r\nexport {createId};","import {useEffect, useState} from \"react\";\nimport {createId} from \"../lib/createId\";\nimport {useUpdate} from \"./useUpdate\";\n\ntype Tag={\n   id:number,name:string\n}\nconst useTags = ()=>{\n    const [tags,setTags]=useState<Tag[]>([]);\n    //tags更新的时候去localStorage里面存数据\n        useUpdate(()=>{\n            localStorage.setItem('tags',JSON.stringify(tags));\n        },[tags]);\n    //页面挂载的时候去localStorage里面取数据\n    useEffect(()=>{\n        // TODO 为啥前进后退页面也会触发1111\n        // console.log('11111');\n        let tagsLocal=JSON.parse(localStorage.getItem('tags')||'[]');\n        if(tagsLocal.length===0){\n            setTags([\n                {id:createId(),name:'衣'},\n                {id:createId(),name:'食'},\n                {id:createId(),name: '住'},\n                {id:createId(),name: '行'}\n            ])\n        }else{\n            setTags(tagsLocal)\n        }\n    },[]);\n    const addTag=()=>{\n        const newTagName=window.prompt('请输入新标签');\n        if (newTagName) {\n            return {id:createId(),name: newTagName};\n        }else{\n            return{ id:-1,name:''}\n        }\n    };\n    const findTag=(id:number)=>{\n        return tags.filter(tag=> tag.id===id)[0]||{name:\"<空>\"}\n    };\n    const updateTag=(id:number,newName:string)=>{\n        if(newName){\n            setTags(tags.map((tag:Tag)=>{\n                return  tag.id===id?{id,name:newName}:tag\n            }))}\n        };\n    const deleteTag=(id:number)=>{\n        setTags(tags.filter(tag=>tag.id!==id))\n    };\n    return(\n        {tags,setTags,findTag,updateTag,deleteTag,addTag}\n    );\n\n};\nexport {useTags}","export    const colorInit=[\r\n    \"magenta\",\"volcano\",\"orange\",\"gold\",\"lime\",\"green\",\"cyan\",\"blue\",\"geekblue\",\"purple\"];\r\n","import React, {useState} from \"react\";\r\nimport Nav from \"../components/Nav\";\r\nimport Layout from \"../components/Layout\";\r\nimport styled from \"styled-components\";\r\nimport {useRecords} from \"../hooks/useRecords\";\r\nimport {CategorySection} from \"./bill/CategorySection\";\r\nimport day from \"dayjs\";\r\nimport {useTags} from \"../hooks/useTags\";\r\nimport {Tag} from \"antd\";\r\nimport {colorInit} from \"./colorInit\";\r\n\r\nconst MyLayout=styled(Layout)`\r\nheight: 100vh;\r\n`;\r\nconst CategoryWrapper=styled.div`\r\nbackground-color:#fff;\r\n`;\r\nconst List=styled.div`\r\nmargin-bottom:auto;\r\nflex-grow: 1;\r\n overflow:auto;\r\n>div header{\r\nbackground: #f5f5f5;\r\npadding:10px 16px;\r\nline-height: 20px;\r\nfont-size: 16px;\r\n}\r\n`;\r\nconst RecordsList=styled.ul`\r\n>li{\r\ndisplay: flex;\r\njustify-content: space-between;\r\npadding:10px 16px;\r\nline-height: 20px;\r\nfont-size: 16px;\r\nbackground: #FFFFFF;\r\n>span span{\r\nfont-size: 14px;\r\n}\r\n>.note{\r\nmargin-left: 10px;\r\nmargin-right: auto;\r\ncolor: #999999;\r\nfont-size: 14px;\r\n}\r\n}\r\n`;\r\n\r\ntype RecordItem={\r\n    tagIds:number[],\r\n    note:string,\r\n    category:\"收入\"|\"支出\",\r\n    amount:number\r\n    createDate:string //ISO 8601\r\n}\r\ntype Category=\"收入\"|\"支出\"\r\nfunction Statistics() {\r\n    const {records}=useRecords();\r\n    const [category,setCategory]=useState<Category>('支出');\r\n    const changeCategory=(category:Category)=>{\r\n        setCategory(category)\r\n    };\r\n    const recordsDisplay=records.filter(record=>record.category===category);\r\n    const hash:{[key:string]:RecordItem[]}={};\r\n    recordsDisplay.forEach((record)=>{\r\n        const key=day(record.createDate).format(\"YYYY-MM-DD\");\r\n        if(!(key in hash)){\r\n            hash[key]=[];\r\n        }\r\n        hash[key].push(record);\r\n    });\r\n    const array=Object.entries(hash).sort((a,b)=>{\r\n        if(a[0]===b[0]){            return 0;        }\r\n        else if(a[0]>b[0]){         return -1;        }\r\n        else if(a[0]<b[0]){         return 1;       }\r\n        else{                       return 0;        }\r\n    });\r\n    const {findTag}=useTags();\r\n    return (\r\n        <>\r\n        <MyLayout>\r\n            <CategoryWrapper>\r\n                <CategorySection category={category}  onChange={changeCategory}/>\r\n            </CategoryWrapper>\r\n            <List>\r\n            {array.map(([date,records])=>{\r\n                return (<div key={date}>\r\n                    <header >{date}</header>\r\n                    <RecordsList>\r\n                    {records.map((record)=>{\r\n                        return <li key={record.createDate}>\r\n                            <span className=\"one-line\">{record.tagIds.map((id)=>{\r\n                                return   <Tag key={id} color={colorInit[id%colorInit.length]}>{findTag(id).name}</Tag>\r\n                            })}</span>\r\n                            <span className=\"note\">{record.note}</span>\r\n                            <span>￥{record.amount}</span>\r\n                        </li>\r\n                    })}</RecordsList>\r\n                    </div>\r\n                )\r\n            })}\r\n            </List>\r\n            <Nav/>\r\n        </MyLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default  Statistics;","import styled from \"styled-components\";\nimport React from \"react\";\nimport {useTags} from '../../hooks/useTags';\nimport { Tag } from 'antd';\nimport {colorInit} from \"../colorInit\";\n\nconst TagsWrapper = styled.section`\ndisplay: flex;\nflex-direction: column;\nfont-size: 14px;\npadding: 20px 20px 12px 20px;\nbackground-color:rgb(255, 255, 255);\nflex:1;\n>ul{\ndisplay: flex;\njustify-content: flex-start;\nflex-wrap: wrap;\noverflow-y: scroll;\n>li {\n> span{\nposition: relative;\npadding: 4px 16px;\nborder-radius: 18px;\nline-height: 20px;\n//background: #D9D9D9;\nmargin-right:15px ;\nmargin-bottom: 5px;\n&::after{\ncontent: \"\";\nposition: absolute;\ntop: 0;\nleft: 0;\nwidth: 100%;\nheight: 100%;\nborder-radius: 18px;\nbackground-color:rgba(0,0,0,0.25);\n}}\n&.selected {\n>span::after{\ndisplay: none;\n//background-color:transparent;\n}\n}\n}}\n>button{\nfont-weight: 600;\nwidth: 70px;\ndisplay: inline-block;\nmargin-top: auto;\npadding-bottom: 5px;\ncolor: rgb(170, 220, 218);\nbackground-color:#fff;\nborder-bottom:1px solid  rgb(170, 220, 218);\n}\n`;\ntype Props ={\n    tagIds:number[],\n    onChange:(stateNew:object)=>void\n}\nconst TagsSection: React.FC<Props> = (props) => {\n    const {tags,setTags,addTag}=useTags();\n    const tagIds=props.tagIds;\n    const onChange=props.onChange;\n    const onAddTag=()=>{\n        let newTag=addTag();\n        if(newTag.id!==-1){\n            setTags([...tags, newTag]);\n        }\n    };\n    const onToggleTags = (id: number) => {\n        const index = tagIds.indexOf(id);\n        if (index === -1) {\n            //选中的时候存入的是id的数组\n            onChange({tagIds:[...tagIds, id]});\n        } else {\n           onChange({tagIds:tagIds.filter(t => t !== id)});\n        }\n    };\n    return (\n        <TagsWrapper>\n            <ul>\n                {tags.map((tag) => {\n                    return <li key={tag.id} onClick={() => {\n                        onToggleTags(tag.id)\n                    }} className={tagIds.indexOf(tag.id) >= 0 ? 'selected' : ''}>\n                        <Tag color={colorInit[tag.id%colorInit.length]}>{tag.name}</Tag>\n                    </li>\n                })}\n            </ul>\n            <button onClick={onAddTag}>新增标签</button>\n        </TagsWrapper>\n    )\n};\nexport {TagsSection};\n","import styled from \"styled-components\";\nimport React, {useRef} from \"react\";\n\n\nconst NotesWrapper=styled.section`\ndisplay: flex;\njustify-content: flex-start;\npadding: 20px;\nflex:0;\nbackground-color:rgb(245, 245, 245);\n>span{\ncolor:rgb(148, 57, 57);\nline-height: 22px;\n}\n>input{\nmargin-left: 20px;\ncolor:rgb(148, 57, 57);\n}\n`;\ntype Props={\n    note:string,\n    onChange:(note:string)=>void\n}\nconst NotesSection:React.FC<Props>=(props)=>{\n    const {note,onChange}=props;\n    const inputRef=useRef<HTMLInputElement>(null);\n    const getNote=()=>{\n        if(inputRef.current){\n            const note=inputRef.current.value;\n            onChange(note)\n        }\n    };\n    return (\n        <NotesWrapper>\n            <span>备注</span>\n            <input value={note} ref={inputRef} onChange={getNote} type=\"text\" placeholder=\"在这里添加备注\" />\n        </NotesWrapper>\n    )\n};\nexport {NotesSection};","import styled from \"styled-components\";\r\n\r\nconst NumWrapper=styled.section`\r\ndisplay: flex;\r\nflex-direction: column;\r\n>div{\r\ntext-align: right;\r\nfont-size: 36px;\r\npadding: 10px ;\r\ncolor:rgb(148, 57, 57);\r\nbackground-color:rgb(255, 255, 255);\r\nbox-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n            inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n}\r\n>.bill-num{\r\ndisplay: grid;\r\ngrid-template-rows:repeat(4,1fr);\r\ngrid-template-columns:repeat(4,1fr) ;\r\n> li {\r\npadding-top:12px ;\r\npadding-bottom: 12px;\r\nfont-size: 18px;\r\nline-height: 22px;\r\ntext-align: center;\r\nbackground: #D3D3D3;\r\nvertical-align: middle;\r\n&:nth-child(1){\r\nbackground-color:rgba(148, 57, 57,0.1);\r\n}\r\n&:nth-child(2),\r\n&:nth-child(5){\r\nbackground-color: rgba(148, 57, 57,0.2);\r\n}\r\n&:nth-child(3),\r\n&:nth-child(6),\r\n&:nth-child(9){\r\nbackground-color:rgba(148, 57, 57,0.3);\r\n}\r\n&:nth-child(4),\r\n&:nth-child(7),\r\n&:nth-child(10){\r\nbackground-color:rgba(148, 57, 57,0.4);\r\n}\r\n&:nth-child(8),\r\n&:nth-child(11),\r\n&:nth-child(13){\r\nbackground-color:rgba(148, 57, 57,0.5);\r\n}\r\n&:nth-child(12){\r\n  grid-row: 3/5;\r\n  grid-column: 4/5;\r\n  padding-top: 35px;\r\n  padding-bottom: 35px;\r\n   background-color:rgba(148, 57, 57,0.7);\r\n}\r\n&:nth-child(13){\r\n  grid-row: 4/5;\r\n  grid-column: 1/3;\r\n}\r\n&:nth-child(14){\r\nbackground-color:rgba(148, 57, 57,0.6);\r\n}\r\n}\r\n}\r\n`;\r\n\r\nexport {NumWrapper};","import React from \"react\";\r\nimport {NumWrapper} from './NumWrapper';\r\nimport {GenerateNum} from './GenerateNum';\r\n\r\ntype Props={\r\n    amount:string,\r\n    onChange:(stateNew:string)=>void,\r\n    onOk:()=>void\r\n}\r\n\r\nconst NumSection:React.FC<Props> = (props)=>{\r\n    const output=props.amount;\r\n    const onChange=props.onChange;\r\n    const onOk=props.onOk;\r\n    const getNumber=(text:string)=>{\r\n        if(text==='OK'){\r\n            onOk();\r\n        }else{\r\n            onChange(GenerateNum(text,output)||'0');\r\n        }\r\n    };\r\n    const numbers:string[]=['1','2','3','删除','4','5','6','清空','7','8','9','OK','0','.'];\r\n    return(\r\n        <NumWrapper>\r\n            <div>\r\n                {output}\r\n            </div >\r\n            <ul className=\"bill-num\">\r\n                {numbers.map(num=>{\r\n                    return <li key={num} onClick={()=>getNumber(num)}>{num}</li>\r\n                })}\r\n            </ul>\r\n        </NumWrapper>\r\n    )\r\n};\r\nexport {NumSection};","const GenerateNum=(text:string,output='0')=>{\r\n        switch (text){\r\n            case '0':\r\n            case '1':\r\n            case '2':\r\n            case '3':\r\n            case '4':\r\n            case '5':\r\n            case '6':\r\n            case '7':\r\n            case '8':\r\n            case '9':\r\n            case '.':\r\n                if(output.length<=16){\r\n                    if(text==='.'){\r\n                        if(output.indexOf('.')!==-1){\r\n                            return output;\r\n                        }else{\r\n                            output+=text;\r\n                            return output;\r\n                        }\r\n                    }else if (output==='0'){\r\n                        return text;\r\n                    }else{\r\n                        output+=text;\r\n                        return output;\r\n                    }\r\n                }else{\r\n                    return output;\r\n                }\r\n            case '删除':\r\n                if(output.length===1||output.length===0){\r\n                    return '0';\r\n                }else{\r\n                    output=output.slice(0,output.length-1);\r\n                    return output;\r\n                }\r\n            case '清空':\r\n                return '0';\r\n            default:\r\n                return '0';\r\n        }\r\n};\r\nexport {GenerateNum};","import React, {useState} from \"react\";\r\nimport Nav from \"../components/Nav\";\r\nimport Layout from \"../components/Layout\";\r\nimport styled from \"styled-components\";\r\nimport {TagsSection} from './bill/TagsSection'\r\nimport {NotesSection} from './bill/NotesSection';\r\nimport {CategorySection} from './bill/CategorySection';\r\nimport {NumSection} from './bill/NumSection';\r\nimport {useRecords} from \"../hooks/useRecords\";\r\n\r\n//神奇的styled用法\r\nconst Wrapper=styled.div`\r\nheight: 100vh;\r\ndisplay: flex;\r\nflex-direction: column;\r\njustify-content: space-between;\r\n`;\r\ntype RecordItemString={\r\n    tagIds:number[],\r\n    note:string,\r\n    category:\"收入\"|\"支出\",\r\n    amount:string\r\n}\r\nconst defaultState:RecordItemString={\r\n    tagIds:[],\r\n    note:\"\",\r\n    category:\"支出\",\r\n    amount:'0'\r\n};\r\nconst CategoryWrapper=styled.section`\r\nbackground-color:rgb(196, 196, 196);\r\n`;\r\nfunction Bill() {\r\n    const [state,setState]=useState<RecordItemString>(defaultState);\r\n    const {addRecord}=useRecords();\r\n    type State=typeof state;\r\n    const onChange=(obj:Partial<State>)=>{\r\n        setState({...state,...obj})\r\n    };\r\n    const onSubmit=()=>{\r\n        let amountNum=parseFloat(state.amount);\r\n        //TODO 表单验证样式优化，alert不友好的\r\n        if(state.tagIds.length<=0){\r\n            return alert('标签还没选择奥')\r\n        }\r\n        if(amountNum<=0){\r\n            return alert('金额还没输入叭')\r\n        }\r\n        addRecord({...state,amount:amountNum,createDate:(new Date()).toISOString()});\r\n        setState(defaultState);\r\n    };\r\n    return (\r\n        <Wrapper >\r\n        <Layout >\r\n            <TagsSection tagIds={state.tagIds}\r\n                         onChange={(stateNew)=>{onChange(stateNew)}} />\r\n            <NotesSection note={state.note}\r\n                          onChange={(note)=>{onChange({note})}}/>\r\n            <CategoryWrapper>\r\n                <CategorySection category={state.category}\r\n                                 onChange={(category)=>{onChange({category})}}/>\r\n            </CategoryWrapper>\r\n            <NumSection amount={state.amount}\r\n                        onChange={(amount)=>{onChange({amount})}}\r\n                        onOk={onSubmit}/>\r\n        </Layout>\r\n        <Nav/>\r\n        </Wrapper>\r\n    )\r\n}\r\nexport  default Bill;","import styled from \"styled-components\";\r\n\r\nconst Center=styled.div`\r\ndisplay: flex;\r\nalign-items: center;\r\njustify-content: space-evenly;\r\nflex-grow:1;\r\n`;\r\n\r\nexport {Center};","import styled from \"styled-components\";\r\n\r\nconst Button=styled.button`\r\nbackground: #767676;\r\npadding: 8px 16px;\r\nfont-size: 17px;\r\nborder-radius: 4px;\r\ncolor: #FFFFFF;\r\ntext-align: center;\r\n&.save{\r\nbackground-color:rgb(184, 225, 222);\r\ncolor:rgb(51, 51, 51);\r\n}\r\n`;\r\nexport {Button};","import React from \"react\";\r\nimport Layout from \"../components/Layout\";\r\nimport {useTags} from '../hooks/useTags'\r\nimport styled from \"styled-components\";\r\nimport {Center} from '../components/Center';\r\nimport {Link} from \"react-router-dom\";\r\nimport Nav from \"../components/Nav\";\r\nimport {Button} from '../components/Button';\r\nimport {Tag} from \"antd\";\r\nimport {colorInit} from \"./colorInit\";\r\n\r\nconst TagList=styled.ul`\r\nflex-shrink: 1;\r\nbackground-color:rgb(255, 255, 255);\r\noverflow:auto;\r\n\r\n>li a{\r\ndisplay: flex;\r\njustify-content:space-between ;\r\npadding: 11px 15px;\r\nborder-bottom: 1px solid rgb(221, 221, 224);\r\n>span{\r\nborder: 0;\r\nfont-size: 16px;\r\nbackground-color:transparent;\r\npadding: 0;\r\n}\r\n}\r\n`;\r\nconst MyLayout=styled(Layout)`\r\nheight: 100vh;\r\ndisplay: flex;\r\nflex-direction: column;\r\njustify-content: space-between;\r\n`;\r\n\r\nfunction Tags() {\r\n    const {tags,setTags,addTag}=useTags();\r\n    const onAddTag=()=>{\r\n            let newTag=addTag();\r\n            if(newTag.id!==-1){\r\n                setTags([...tags, newTag]);\r\n            }\r\n        };\r\n    return(\r\n            <MyLayout>\r\n                <TagList>\r\n                    {tags.map((tag) => {\r\n                        return (\r\n                            <li key={tag.id}>\r\n                                <Link to={'/tags/'+tag.id}>\r\n                                <Tag className=\"one-line\" color={colorInit[tag.id%colorInit.length]}>\r\n                                 {tag.name}\r\n                                </Tag>\r\n                                <svg className=\"icon\" aria-hidden=\"true\">\r\n                                    <use xlinkHref=\"#icon-jiantouyou\"></use>\r\n                                </svg>\r\n                                </Link>\r\n                        </li>)\r\n                    })}\r\n                </TagList>\r\n                <Center>\r\n                    <Button onClick={onAddTag} className=\"save\">新增标签</Button>\r\n                </Center>\r\n                <Nav/>\r\n            </MyLayout>\r\n    )\r\n}\r\n\r\nexport default Tags;","import React from \"react\";\r\n\r\nfunction NoMatch(){\r\n    return <h2>404了，肯定有哪里不对劲</h2>\r\n}\r\nexport default NoMatch;","import {useParams,useHistory} from 'react-router-dom';\r\nimport {useTags} from \"../hooks/useTags\";\r\nimport Layout from \"../components/Layout\";\r\nimport {Center} from \"../components/Center\";\r\nimport {Button} from \"../components/Button\";\r\nimport Nav from \"../components/Nav\";\r\nimport styled from \"styled-components\";\r\nimport React, {useRef} from \"react\";\r\n\r\ntype Params={\r\n    id:string\r\n}\r\nconst TitleDiv=styled.div`\r\nfont-size: 16px;\r\npadding: 16px;\r\ndisplay: flex;\r\njustify-content: space-between;\r\nbackground-color:rgb(255, 255, 255);\r\nmargin-bottom:8px;\r\n>span{\r\nflex-grow:1;\r\ntext-align: center;\r\n}\r\n`;\r\nconst EditDiv=styled.div`\r\nbackground-color:#fff;\r\nfont-size: 16px;\r\npadding: 16px;\r\n>input{\r\nfont-size: 16px;\r\n}\r\n`;\r\nconst MyLayout=styled(Layout)`\r\nheight: 100vh;\r\ndisplay: flex;\r\nflex-direction: column;\r\njustify-content: space-between;\r\n`;\r\nconst Tag:React.FC=()=>{\r\n    let {id}=useParams<Params>();\r\n    let {findTag,updateTag,deleteTag}=useTags();\r\n    const tag=findTag(parseInt(id));\r\n    const tagRef=useRef<HTMLInputElement>(null);\r\n    const history=useHistory();\r\n    const saveTag=()=>{\r\n        if(tagRef.current){\r\n            updateTag(parseInt(id),tagRef.current.value);\r\n        }\r\n    };\r\n    const onDeleteTag=()=>{\r\n        deleteTag(parseInt(id));\r\n    };\r\n    const onClickBack=()=>{\r\n        history.push(\"/tags\")\r\n    };\r\n    return (\r\n        <MyLayout>\r\n            <TitleDiv className=\"edit\">\r\n                <svg className=\"icon\" aria-hidden=\"true\" onClick={onClickBack}>\r\n                    <use xlinkHref=\"#icon-jiantouzuo\"></use>\r\n                </svg>\r\n                <span>编辑标签</span>\r\n            </TitleDiv>\r\n            {\r\n                tag?\r\n                    <>\r\n                        <EditDiv>\r\n                        <span>标签名 </span>\r\n                        <input ref={tagRef} type=\"text\" placeholder={tag.name} />\r\n                    </EditDiv>\r\n                    <Center>\r\n                        <Button onClick={saveTag} className=\"save\">保存修改</Button>\r\n                        <Button onClick={onDeleteTag}>删除标签</Button>\r\n                    </Center>\r\n                </>\r\n                    :\r\n                    <Center>\r\n                        标签不存在了ToT~\r\n                    </Center>\r\n            }\r\n\r\n            <Nav/>\r\n        </MyLayout>\r\n    )\r\n}\r\nexport {Tag}","import React from \"react\";\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n    Redirect\n} from \"react-router-dom\";\nimport styled from 'styled-components';\nimport Statistics from \"./views/Statistics\";\nimport Bill from \"./views/Bill\";\nimport Tags from \"./views/Tags\";\nimport NoMatch from \"./views/NoMatch\";\nimport {Tag} from \"./views/Tag\";\nimport {Button} from \"antd\";\n\nconst Wrapper=styled.div`\ndisplay: flex;\nflex-direction: column;\nheight:100vh;\nbackground-color:rgb(245, 245, 245);\n`;\n\nfunction App() {\n    return (\n        <Router>\n            <Wrapper>\n                <Switch>\n                    <Route exact path=\"/tags\">\n                        <Tags />\n                    </Route>\n                    <Route exact path=\"/tags/:id\">\n                        <Tag  />\n                    </Route>\n                    <Route exact path=\"/bill\">\n                        < Bill/>\n                    </Route>\n                    <Route exact path=\"/statistics\">\n                        <Statistics/>\n                    </Route>\n                    <Redirect exact from=\"/\" to=\"/bill\" />\n                    <Route path=\"*\" >\n                        <NoMatch />\n                    </Route>\n                </Switch>\n            </Wrapper>\n        </Router>\n\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}